<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Working with EOS Contracts using EOSFactory in Visual Studio Code &#8212; EOSFactory 0.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Interacting with Public Testnet" href="05.InteractingWithPublicTestnet.html" />
    <link rel="prev" title="Building and Deploying EOS Contracts using EOSFactory" href="03.BuildingAndDeployingEOSContractsInEOSFactory.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          EOSFactory</a>
        <span class="navbar-text navbar-version pull-left"><b>v2.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../cases/02_wallet/case.html">Wallet Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cases/03_symbolic_names/case.html">Symbolic Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cases/04_account/case.html">Account Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cases/05_master_account/case.html">Master Account</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion0.8.html">EOSFactory Release Notes - v0.8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion1.0.html">EOSFactory Release Notes - v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion1.1.html">EOSFactory Release Notes - v1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion2.0.html">EOSFactory Release Notes - v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion2.1.html">EOSFactory Release Notes - v2.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion2.2.html">EOSFactory Release Notes - v2.2</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00.IntroductionToEOSFactory.html">Introduction to <em>EOSFactory</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="01.InstallingEOSFactory.html">Installing <em>EOSFactory</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="02.InteractingWithEOSContractsInEOSFactory.html">Interacting with EOS Contracts in <em>EOSFactory</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="03.BuildingAndDeployingEOSContractsInEOSFactory.html">Building and Deploying EOS Contracts using <em>EOSFactory</em></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working with EOS Contracts using <em>EOSFactory</em> in <em>Visual Studio Code</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="05.InteractingWithPublicTestnet.html">Interacting with Public Testnet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/PlanForSubsequentEOSFactoryReleases.html">Plan for Subsequent EOSFactory Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/LongTermEOSFactoryRoadmap.html">Long-term EOSFactory Roadmap</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.cleos.html">core.cleos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.cleosys.html">core.cleosys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.config.html">core.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.errors.html">core.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.interface.html">core.interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.logger.html">core.logger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.manager.html">core.manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.setup.html">core.setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.teos.html">core.teos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.testnet.html">core.testnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/core.utils.html">core.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/shell.account.html">shell.account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/shell.contract.html">shell.contract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/shell.wallet.html">shell.wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rst/eosf.html">eosf</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Working with EOS Contracts using <em>EOSFactory</em> in <em>Visual Studio Code</em></a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#create-a-new-smart-contract-vsc-project">Create a new smart-contract VSC project</a></li>
<li><a class="reference internal" href="#open-the-new-project-in-visual-studio-code">Open the new project in <em>Visual Studio Code</em></a></li>
<li><a class="reference internal" href="#folder-structure">Folder structure</a></li>
<li><a class="reference internal" href="#use-cmake-in-visual-studio-code">Use <em>CMake</em> in <em>Visual Studio Code</em></a><ul>
<li><a class="reference internal" href="#configure">Configure</a></li>
<li><a class="reference internal" href="#build">Build</a></li>
<li><a class="reference internal" href="#unit-tests">Unit tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-automated-tasks-in-visual-studio-code">Use automated tasks in <em>Visual Studio Code</em></a><ul>
<li><a class="reference internal" href="#compile">Compile</a></li>
<li><a class="reference internal" href="#build">Build</a></li>
<li><a class="reference internal" href="#test">Test</a></li>
<li><a class="reference internal" href="#unit-test">Unit test</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-intellisense-in-visual-studio-code">Use <em>IntelliSense</em> in <em>Visual Studio Code</em></a></li>
<li><a class="reference internal" href="#debug-with-smart-loggers">Debug with smart loggers</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="03.BuildingAndDeployingEOSContractsInEOSFactory.html" title="Previous Chapter: Building and Deploying EOS Contracts using EOSFactory"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Building and ...</span>
    </a>
  </li>
  <li>
    <a href="05.InteractingWithPublicTestnet.html" title="Next Chapter: Interacting with Public Testnet"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Interacting w... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/tutorials/04.WorkingWithEOSContractsUsingEOSFactoryInVSC.md.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="working-with-eos-contracts-using-eosfactory-in-visual-studio-code">
<span id="working-with-eos-contracts-using-eosfactory-in-visual-studio-code"></span><h1>Working with EOS Contracts using <em>EOSFactory</em> in <em>Visual Studio Code</em><a class="headerlink" href="#working-with-eos-contracts-using-eosfactory-in-visual-studio-code" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this tutorial is to demonstrate how <em>EOSFactory</em> can be combined with <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a> in order to streamline the process of working with EOS smart-contracts.</p>
<div class="section" id="prerequisites">
<span id="prerequisites"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">This tutorial assumes that you have successfully installed <em>EOSFactory</em>. If it’s not the case, please refer to <a class="reference external" href="01.InstallingEOSFactory.html">Installing <em>EOSFactory</em></a>.</p>
</li>
<li><p class="first">We assume that you are familiar with the material covered in <a class="reference external" href="02.InteractingWithEOSContractsInEOSFactory.html">Interacting with EOS Contracts in <em>EOSFactory</em></a>.</p>
</li>
<li><p class="first">We also assume you have <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a> installed. If you are on Windows and run VSC for the first time, in order to get access to <em>Windows Subsystem for Linux</em> bash terminal inside VSC, navigate to <code class="docutils literal notranslate"><span class="pre">Preferences</span> <span class="pre">-&gt;</span> <span class="pre">Settings</span></code> and overwrite the default configuration for the <code class="docutils literal notranslate"><span class="pre">terminal.integrated.shell.windows</span></code> option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="s2">&quot;terminal.integrated.shell.windows&quot;</span><span class="p">:</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Windows</span><span class="se">\\</span><span class="s2">sysnative</span><span class="se">\\</span><span class="s2">bash.exe&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Finally, we assume that you are familiar with the official <a class="reference external" href="https://github.com/EOSIO/eos/wiki/Tutorial-Hello-World-Contract">EOS Hello World tutorial</a>, as it presents the standard way to compile and deploy smart-contracts in EOS. What we present here is an alternative.</p>
</li>
</ul>
</div>
<div class="section" id="create-a-new-smart-contract-vsc-project">
<span id="create-a-new-smart-contract-vsc-project"></span><h2>Create a new smart-contract VSC project<a class="headerlink" href="#create-a-new-smart-contract-vsc-project" title="Permalink to this headline">¶</a></h2>
<p>In a bash terminal run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">cd</span> <span class="n">eosfactory</span>
<span class="n">python3</span> <span class="n">utils</span><span class="o">/</span><span class="n">create_project</span><span class="o">.</span><span class="n">py</span> <span class="n">foo_bar</span> <span class="mi">01</span><span class="n">_hello_world</span>
</pre></div>
</div>
<p><strong>NOTE:</strong> If you are on Windows and have not restarted your WSL bash terminal after <em>EOSFactory</em> installation, you’ll need to do so before you execute this command (if you are using WSL bash terminal inside <em>Visual Studio Code</em>, restart your VSC instead).</p>
<p>The first parameter (in our case <code class="docutils literal notranslate"><span class="pre">foo_bar</span></code>) is the name of your contract. It can be any name you want, provided there are no spaces in it. Letters, numbers, underscores <code class="docutils literal notranslate"><span class="pre">_</span></code>, dots <code class="docutils literal notranslate"><span class="pre">.</span></code> and dashes <code class="docutils literal notranslate"><span class="pre">-</span></code> are allowed.</p>
<p>The second parameter (in our case <code class="docutils literal notranslate"><span class="pre">01_hello_world</span></code>) denotes the template from which the new contract will be created. As of now there are three templates to choose from (i.e. <code class="docutils literal notranslate"><span class="pre">01_hello_world</span></code>, <code class="docutils literal notranslate"><span class="pre">02_eosio_token</span></code> and <code class="docutils literal notranslate"><span class="pre">03_tic_tac_toe</span></code>), with more coming in the future. This parameter is optional, the default value is <code class="docutils literal notranslate"><span class="pre">01_hello_world</span></code>.</p>
</div>
<div class="section" id="open-the-new-project-in-visual-studio-code">
<span id="open-the-new-project-in-visual-studio-code"></span><h2>Open the new project in <em>Visual Studio Code</em><a class="headerlink" href="#open-the-new-project-in-visual-studio-code" title="Permalink to this headline">¶</a></h2>
<p>You can open the new project manually by launching VSC and navigating to the projects’s folder.</p>
<p>Alternatively, you can add the <code class="docutils literal notranslate"><span class="pre">--vsc</span></code> option to the command and then VSC will launch automatically, already switched to the projects’s folder, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">cd</span> <span class="n">eosfactory</span>
<span class="n">python3</span> <span class="n">utils</span><span class="o">/</span><span class="n">create_project</span><span class="o">.</span><span class="n">py</span> <span class="n">foo_bar</span> <span class="mi">01</span><span class="n">_hello_world</span> <span class="o">--</span><span class="n">vsc</span>
</pre></div>
</div>
</div>
<div class="section" id="folder-structure">
<span id="folder-structure"></span><h2>Folder structure<a class="headerlink" href="#folder-structure" title="Permalink to this headline">¶</a></h2>
<p>Once the project is open in VSC, you’ll see the following file structure:</p>
<p><img alt="file_structure" src="../_images/file_structure.png" /></p>
<p>What you get is a complete smart-contract workspace with clear separation between smart-contract source code, build output files and unit tests. Everything is set up and ready to be built and unit tested:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">src</span></code> directory, the <code class="docutils literal notranslate"><span class="pre">cpp</span></code> and <code class="docutils literal notranslate"><span class="pre">hpp</span></code> files are there.</li>
<li><code class="docutils literal notranslate"><span class="pre">test</span></code> directory, test scripts are there.</li>
<li><code class="docutils literal notranslate"><span class="pre">resources</span></code> directory, everything that does not fit to the previous two
places goes there. It may contain the Ricardian contract files.</li>
<li><code class="docutils literal notranslate"><span class="pre">.vscode</span></code> directory that contains <em>IntelliSense</em> definitions, task
definitions, etc.</li>
<li><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file, CMake definitions.</li>
</ul>
<p><strong>NOTE:</strong> You are free to change the literals, e.g. you can change the name of <code class="docutils literal notranslate"><span class="pre">test1</span></code> to some other name, but if you do so you’ll also have to update both the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">.vscode/tasks.json</span></code> files.</p>
</div>
<div class="section" id="use-cmake-in-visual-studio-code">
<span id="use-cmake-in-visual-studio-code"></span><h2>Use <em>CMake</em> in <em>Visual Studio Code</em><a class="headerlink" href="#use-cmake-in-visual-studio-code" title="Permalink to this headline">¶</a></h2>
<p>With <em>EOSFactory</em> you can use <a class="reference external" href="https://cmake.org/">CMake</a> routines to compile, build and unit test a contract.</p>
<p>First open a bash terminal inside VSC (navigate to <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">-&gt;</span> <span class="pre">Integrated</span> <span class="pre">Terminal</span></code>), and switch to the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">cd</span> <span class="n">build</span>
</pre></div>
</div>
<div class="section" id="configure">
<span id="configure"></span><h3>Configure<a class="headerlink" href="#configure" title="Permalink to this headline">¶</a></h3>
<p>To configure your project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">cmake</span> <span class="o">..</span>
</pre></div>
</div>
<p>The output should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="o">--</span> <span class="n">The</span> <span class="n">C</span> <span class="n">compiler</span> <span class="n">identification</span> <span class="ow">is</span> <span class="n">GNU</span> <span class="mf">7.3</span><span class="o">.</span><span class="mi">0</span>
<span class="o">--</span> <span class="n">The</span> <span class="n">CXX</span> <span class="n">compiler</span> <span class="n">identification</span> <span class="ow">is</span> <span class="n">GNU</span> <span class="mf">7.3</span><span class="o">.</span><span class="mi">0</span>
<span class="o">--</span> <span class="n">Check</span> <span class="k">for</span> <span class="n">working</span> <span class="n">C</span> <span class="n">compiler</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">cc</span>
<span class="o">--</span> <span class="n">Check</span> <span class="k">for</span> <span class="n">working</span> <span class="n">C</span> <span class="n">compiler</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">cc</span> <span class="o">--</span> <span class="n">works</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">C</span> <span class="n">compiler</span> <span class="n">ABI</span> <span class="n">info</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">C</span> <span class="n">compiler</span> <span class="n">ABI</span> <span class="n">info</span> <span class="o">-</span> <span class="n">done</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">C</span> <span class="nb">compile</span> <span class="n">features</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">C</span> <span class="nb">compile</span> <span class="n">features</span> <span class="o">-</span> <span class="n">done</span>
<span class="o">--</span> <span class="n">Check</span> <span class="k">for</span> <span class="n">working</span> <span class="n">CXX</span> <span class="n">compiler</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">c</span><span class="o">++</span>
<span class="o">--</span> <span class="n">Check</span> <span class="k">for</span> <span class="n">working</span> <span class="n">CXX</span> <span class="n">compiler</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">c</span><span class="o">++</span> <span class="o">--</span> <span class="n">works</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">CXX</span> <span class="n">compiler</span> <span class="n">ABI</span> <span class="n">info</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">CXX</span> <span class="n">compiler</span> <span class="n">ABI</span> <span class="n">info</span> <span class="o">-</span> <span class="n">done</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">CXX</span> <span class="nb">compile</span> <span class="n">features</span>
<span class="o">--</span> <span class="n">Detecting</span> <span class="n">CXX</span> <span class="nb">compile</span> <span class="n">features</span> <span class="o">-</span> <span class="n">done</span>
<span class="o">--</span> <span class="n">Configuring</span> <span class="n">done</span>
<span class="o">--</span> <span class="n">Generating</span> <span class="n">done</span>
<span class="o">--</span> <span class="n">Build</span> <span class="n">files</span> <span class="n">have</span> <span class="n">been</span> <span class="n">written</span> <span class="n">to</span><span class="p">:</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">Workspaces</span><span class="o">/</span><span class="n">EOS</span><span class="o">/</span><span class="n">contracts</span><span class="o">/</span><span class="n">contract</span><span class="o">.</span><span class="n">name</span><span class="o">/</span><span class="n">build</span>
</pre></div>
</div>
</div>
<div class="section" id="build">
<span id="build"></span><h3>Build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h3>
<p>To build your project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">make</span>
</pre></div>
</div>
<p>The output should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">Scanning</span> <span class="n">dependencies</span> <span class="n">of</span> <span class="n">target</span> <span class="n">abi</span>
<span class="n">Built</span> <span class="n">target</span> <span class="n">abi</span>
<span class="n">Scanning</span> <span class="n">dependencies</span> <span class="n">of</span> <span class="n">target</span> <span class="n">wast</span>
<span class="n">Built</span> <span class="n">target</span> <span class="n">wast</span>
</pre></div>
</div>
<p><strong>NOTE:</strong> If the <code class="docutils literal notranslate"><span class="pre">ABI</span></code> file already exists in the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder (you should keep it there, if you prefer to create it manually instead of relying on the <em>EOSIO</em> toolset) <em>CMake</em> will skip the <code class="docutils literal notranslate"><span class="pre">ABI</span></code> file generation step and proceed with <code class="docutils literal notranslate"><span class="pre">WAST</span></code> file generation.</p>
</div>
<div class="section" id="unit-tests">
<span id="unit-tests"></span><h3>Unit tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h3>
<p>And finally, after your contract has been successfully built, invoke unit tests with this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">ctest</span>
</pre></div>
</div>
<p>If you want to make your unit tests more verbose, use the <code class="docutils literal notranslate"><span class="pre">-V</span></code> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">ctest</span> <span class="o">-</span><span class="n">V</span>
</pre></div>
</div>
<p>And if you want to be more specific about which unit tests should be run, you can use the <code class="docutils literal notranslate"><span class="pre">-R</span></code> parameter which allows you to supply a regular expression indicating specific criteria regarding the names of the tests to be run, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre>ctest -R ^test$
</pre></div>
</div>
<p>The outcome of the unit test (in the non-verbose mode) should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">Test</span> <span class="n">project</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">Workspaces</span><span class="o">/</span><span class="n">EOS</span><span class="o">/</span><span class="n">contracts</span><span class="o">/</span><span class="n">contract</span><span class="o">.</span><span class="n">name</span><span class="o">/</span><span class="n">build</span>
    <span class="n">Start</span> <span class="mi">1</span><span class="p">:</span> <span class="n">test</span>
<span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="n">Test</span> <span class="c1">#1: test .............................   Passed    9.96 sec</span>
    <span class="n">Start</span> <span class="mi">2</span><span class="p">:</span> <span class="n">unittest</span>
<span class="mi">2</span><span class="o">/</span><span class="mi">2</span> <span class="n">Test</span> <span class="c1">#2: unittest .........................   Passed    9.94 sec</span>

<span class="mi">100</span><span class="o">%</span> <span class="n">tests</span> <span class="n">passed</span><span class="p">,</span> <span class="mi">0</span> <span class="n">tests</span> <span class="n">failed</span> <span class="n">out</span> <span class="n">of</span> <span class="mi">2</span>

<span class="n">Total</span> <span class="n">Test</span> <span class="n">time</span> <span class="p">(</span><span class="n">real</span><span class="p">)</span> <span class="o">=</span>  <span class="mf">19.92</span> <span class="n">sec</span>
</pre></div>
</div>
<p><strong>NOTE:</strong> As you might have noticed, there are two types of unit tests: the standard ones (named <em>unittest1</em>, <em>unittest2</em>, etc) and ad-hoc ones (named <em>test1</em>, <em>test2</em>, etc). The reason for this duality is this: we find it useful to have standard unit tests to prove that things work as expected, and ad-hoc tests to investigate bugs and generally monitor the inner workings of a smart-contract. <em>EOSFactory</em> supports both, so you can choose whatever suits your needs.</p>
<p>Also, please note that an alternative way to run the tests is to invoke them as a Python executable file, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">python3</span> <span class="n">tests</span><span class="o">/</span><span class="n">test1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">python3</span> <span class="n">tests</span><span class="o">/</span><span class="n">unittest1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="use-automated-tasks-in-visual-studio-code">
<span id="use-automated-tasks-in-visual-studio-code"></span><h2>Use automated tasks in <em>Visual Studio Code</em><a class="headerlink" href="#use-automated-tasks-in-visual-studio-code" title="Permalink to this headline">¶</a></h2>
<p>Running VSC automated tasks is an alternative to using <em>CMake</em> routines described in the previous section.</p>
<p>Also, by using automated tasks you can choose whether you just want to compile the code using the <code class="docutils literal notranslate"><span class="pre">CLANG</span></code> compiler or run a complete build with the <code class="docutils literal notranslate"><span class="pre">WASM</span></code> compiler.</p>
<p>The advantage of using the <code class="docutils literal notranslate"><span class="pre">CLANG</span></code> compiler (as opposed to the <code class="docutils literal notranslate"><span class="pre">WASM</span></code> compiler) is that it runs faster and does not involve the linking process. Thus most of the errors in a smart-contract’s code can be spotted automatically by <code class="docutils literal notranslate"><span class="pre">CLANG</span></code>.</p>
<p>To access automated task navigate to the <code class="docutils literal notranslate"><span class="pre">Tasks</span></code> top menu option:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Build</span></code> results in building the contract, with the <code class="docutils literal notranslate"><span class="pre">ABI</span></code> and <code class="docutils literal notranslate"><span class="pre">WAST</span></code>
files going to the <code class="docutils literal notranslate"><span class="pre">build</span></code> directory.</li>
<li><code class="docutils literal notranslate"><span class="pre">Compile</span></code> results in compilation of the contract, without building
(neither <code class="docutils literal notranslate"><span class="pre">ABI</span></code> nor <code class="docutils literal notranslate"><span class="pre">WAST</span></code> are produced), but code errors, if any,
are listed.</li>
<li><code class="docutils literal notranslate"><span class="pre">Test</span></code> executes the <code class="docutils literal notranslate"><span class="pre">test1.py</span></code> script.</li>
<li><code class="docutils literal notranslate"><span class="pre">Unittest</span></code> executes the <code class="docutils literal notranslate"><span class="pre">unittest1.py</span></code> script.</li>
<li><code class="docutils literal notranslate"><span class="pre">EOSIO</span> <span class="pre">API</span></code> opens the <a class="reference external" href="https://developers.eos.io/eosio-cpp/reference">EOSIO documentation</a>.</li>
</ul>
<div class="section" id="compile">
<span id="compile"></span><h3>Compile<a class="headerlink" href="#compile" title="Permalink to this headline">¶</a></h3>
<p>To have your code compiled by the <code class="docutils literal notranslate"><span class="pre">CLANG</span></code> compiler navigate to <code class="docutils literal notranslate"><span class="pre">Terminal</span> <span class="pre">&gt;</span> <span class="pre">Run</span> <span class="pre">Task</span> <span class="pre">&gt;</span> <span class="pre">Compile</span></code>:</p>
<p><img alt="compile" src="../_images/compile.png" /></p>
</div>
<div class="section" id="build">
<span id="id1"></span><h3>Build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h3>
<p>To have your code built by the <code class="docutils literal notranslate"><span class="pre">WASM</span></code> compiler navigate to <code class="docutils literal notranslate"><span class="pre">Terminal</span> <span class="pre">&gt;</span> <span class="pre">Run</span> <span class="pre">Task</span> <span class="pre">&gt;</span> <span class="pre">Build</span></code>:</p>
<p><img alt="build" src="../_images/build.png" /></p>
</div>
<div class="section" id="test">
<span id="test"></span><h3>Test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h3>
<p>To run ad-hoc unit tests navigate to <code class="docutils literal notranslate"><span class="pre">Terminal</span> <span class="pre">&gt;</span> <span class="pre">Run</span> <span class="pre">Task</span> <span class="pre">&gt;</span> <span class="pre">Test</span></code>:</p>
<p><img alt="test" src="../_images/test.png" /></p>
</div>
<div class="section" id="unit-test">
<span id="unit-test"></span><h3>Unit test<a class="headerlink" href="#unit-test" title="Permalink to this headline">¶</a></h3>
<p>To run standardized unit tests navigate to <code class="docutils literal notranslate"><span class="pre">Terminal</span> <span class="pre">&gt;</span> <span class="pre">Run</span> <span class="pre">Task</span> <span class="pre">&gt;</span> <span class="pre">Unittest</span></code>:</p>
<p><img alt="unittest" src="../_images/unittest.png" /></p>
<p>You can further speed up your development cycle by creating key bindings for those tasks, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre>    <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;ctrl+shift+c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;workbench.action.tasks.runTask&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;Compile&quot;</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;ctrl+shift+t&quot;</span><span class="p">,</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;workbench.action.tasks.runTask&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;Test&quot;</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;ctrl+shift+u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;workbench.action.tasks.runTask&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;Unittest&quot;</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>Or if you are on MacOS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre>    <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;cmd+shift+c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;workbench.action.tasks.runTask&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;Compile&quot;</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;cmd+shift+t&quot;</span><span class="p">,</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;workbench.action.tasks.runTask&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;Test&quot;</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;cmd+shift+u&quot;</span><span class="p">,</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;workbench.action.tasks.runTask&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;Unittest&quot;</span>
    <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="use-intellisense-in-visual-studio-code">
<span id="use-intellisense-in-visual-studio-code"></span><h2>Use <em>IntelliSense</em> in <em>Visual Studio Code</em><a class="headerlink" href="#use-intellisense-in-visual-studio-code" title="Permalink to this headline">¶</a></h2>
<p>You can also make use of VSC <a class="reference external" href="https://code.visualstudio.com/docs/editor/intellisense">IntelliSense</a> feature. Among other things, it allows you to inspect the context of any code element, including its definition and declaration.</p>
<p><img alt="intelisense" src="../_images/intelisense.png" /></p>
<p><strong>NOTE:</strong> For that to work you’ll need to install the C/C++ IntelliSense extension in VSC.</p>
</div>
<div class="section" id="debug-with-smart-loggers">
<span id="debug-with-smart-loggers"></span><h2>Debug with smart loggers<a class="headerlink" href="#debug-with-smart-loggers" title="Permalink to this headline">¶</a></h2>
<p>As <em>EOSFactory</em> gets upgraded, it will include further libraries that enhance the process of smart-contract development. Here we present one of such features in action: the logging tool. It’s quite important, as using loggers is actually the only way to debug smart contracts.</p>
<p>You might have noticed the <code class="docutils literal notranslate"><span class="pre">logger.hpp</span></code> header file in the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory. And if you have applied the <code class="docutils literal notranslate"><span class="pre">01_hello_world</span></code> template when creating your VSC project, you’ll also notice the following line in the <code class="docutils literal notranslate"><span class="pre">contract.name.cpp</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">logger_info</span><span class="p">(</span> <span class="s2">&quot;debug user name: &quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">{</span><span class="n">user</span><span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p>The effect of the above code entry is the following output in test results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">INFO</span> <span class="n">debug</span> <span class="n">user</span> <span class="n">name</span><span class="p">:</span> <span class="n">carol</span> <span class="o">@</span> <span class="mi">8</span><span class="p">:</span><span class="mi">53</span><span class="p">:</span><span class="mi">50</span> <span class="n">contract</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">cpp</span><span class="p">[</span><span class="mi">17</span><span class="p">](</span><span class="n">hi</span><span class="p">)</span>
</pre></div>
</div>
<p>A similar example can be found in the <code class="docutils literal notranslate"><span class="pre">02_eosio_token</span></code> template:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">logger_info</span><span class="p">(</span><span class="s2">&quot;quantity.amount: &quot;</span><span class="p">,</span> <span class="n">quantity</span><span class="o">.</span><span class="n">amount</span><span class="p">);</span>
</pre></div>
</div>
<p>The effect of the above code entry is the following output in test results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">INFO</span> <span class="n">quantity</span><span class="o">.</span><span class="n">amount</span><span class="p">:</span> <span class="mi">250000</span> <span class="o">@</span> <span class="mi">13</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">17</span> <span class="n">contract</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">cpp</span><span class="p">[</span><span class="mi">88</span><span class="p">](</span><span class="n">transfer</span><span class="p">)</span>
</pre></div>
</div>
<p>Thus the logger utility offers you much more than just a way of monitoring the value of a variable. What you also get is the method name, the file name and the line number where this logger event occurred.</p>
<p><strong>NOTE:</strong> For the logger output to be visible in the console, make sure that your unit test contains the <code class="docutils literal notranslate"><span class="pre">Verbosity.DEBUG</span></code> flag as part of the <code class="docutils literal notranslate"><span class="pre">Logger.verbosity</span></code> options, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="n">verbosity</span><span class="p">([</span><span class="n">Verbosity</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="n">Verbosity</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">Verbosity</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">])</span>
</pre></div>
</div>
<p>In our examples logger verbosity is defined in the top section of the file, just below the import statements.</p>
<p>Also, if you run your tests using <em>CMake</em>, apart from that you’ll need to apply the verbose mode <code class="docutils literal notranslate"><span class="pre">-V</span></code> to be able to see the full logger output.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, Tokenika.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>